{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\Intern\\\\src\\\\components\\\\DatabaseResetComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DatabaseResetComponent = ({\n  fetchDashboardData\n}) => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedResetType, setSelectedResetType] = useState('manual');\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [resetStatus, setResetStatus] = useState({\n    message: '',\n    type: ''\n  });\n  const [dynamicResetSchedule, setDynamicResetSchedule] = useState([]);\n  const [automaticResetEnabled, setAutomaticResetEnabled] = useState(true);\n\n  // Fetch meal windows and calculate reset schedule\n  useEffect(() => {\n    const fetchMealWindows = async () => {\n      try {\n        const response = await fetch('/api/meal-windows', {\n          credentials: 'include'\n        });\n        const data = await response.json();\n        if (data.success && data.mealWindows) {\n          calculateResetSchedule(data.mealWindows);\n        }\n      } catch (error) {\n        console.error('Error fetching meal windows:', error);\n        // Fallback to default schedule if API fails\n        setDynamicResetSchedule([{\n          time: '05:45',\n          meal: 'Late Night',\n          resetType: 'Before'\n        }, {\n          time: '09:30',\n          meal: 'Breakfast',\n          resetType: 'Before'\n        }, {\n          time: '14:30',\n          meal: 'Lunch',\n          resetType: 'Before'\n        }, {\n          time: '20:30',\n          meal: 'Dinner',\n          resetType: 'Before'\n        }]);\n      }\n    };\n    fetchMealWindows();\n  }, []);\n\n  // Calculate reset times (30 minutes before each meal start)\n  const calculateResetSchedule = windows => {\n    const schedule = windows.filter(window => window.enabled).map(window => {\n      const [hours, minutes] = window.startTime.split(':').map(Number);\n      const startDate = new Date();\n      startDate.setHours(hours, minutes, 0, 0);\n\n      // Subtract 30 minutes\n      const resetDate = new Date(startDate.getTime() - 30 * 60000);\n      const resetTime = `${resetDate.getHours().toString().padStart(2, '0')}:${resetDate.getMinutes().toString().padStart(2, '0')}`;\n      return {\n        time: resetTime,\n        meal: window.mealType.charAt(0).toUpperCase() + window.mealType.slice(1),\n        resetType: 'Before'\n      };\n    }).sort((a, b) => a.time.localeCompare(b.time));\n    setDynamicResetSchedule(schedule);\n  };\n\n  // Show reset status message\n  const showResetStatus = (message, type) => {\n    setResetStatus({\n      message,\n      type\n    });\n\n    // Auto-remove success/error messages after 5 seconds\n    if (type !== 'info') {\n      setTimeout(() => {\n        setResetStatus({\n          message: '',\n          type: ''\n        });\n      }, 5000);\n    }\n  };\n\n  // Perform manual reset\n  const performManualReset = async () => {\n    if (isLoading) return;\n    try {\n      setIsLoading(true);\n      setShowConfirmation(false);\n      showResetStatus('Resetting meal database...', 'info');\n      const response = await fetch('/api/dashboard/reset-meals', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      const data = await response.json();\n      if (data.success) {\n        showResetStatus(`✅ ${data.message} Reset completed at ${data.resetTime}`, 'success');\n\n        // Refresh dashboard stats if available\n        if (fetchDashboardData) {\n          setTimeout(() => {\n            fetchDashboardData();\n          }, 1000);\n        }\n      } else {\n        showResetStatus(`❌ Reset failed: ${data.error}`, 'error');\n      }\n    } catch (error) {\n      console.error('Reset error:', error);\n      showResetStatus('❌ Network error. Please check if the backend server is running.', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Perform test reset\n  const performTestReset = async () => {\n    if (isLoading) return;\n    try {\n      setIsLoading(true);\n      showResetStatus('Running test reset...', 'info');\n\n      // Simulate test reset - in real implementation, this would call a test endpoint\n      setTimeout(() => {\n        showResetStatus('✅ Test reset completed successfully. No actual data was modified.', 'success');\n        setIsLoading(false);\n      }, 2000);\n    } catch (error) {\n      console.error('Test reset error:', error);\n      showResetStatus('❌ Test reset failed.', 'error');\n      setIsLoading(false);\n    }\n  };\n\n  // Toggle automatic reset schedule\n  const toggleAutomaticReset = async () => {\n    try {\n      setIsLoading(true);\n      const newStatus = !automaticResetEnabled;\n\n      // Here you would call an API to enable/disable the scheduler\n      // For now, we'll just update the local state\n      setAutomaticResetEnabled(newStatus);\n      showResetStatus(`✅ Automatic reset schedule ${newStatus ? 'enabled' : 'disabled'}`, 'success');\n    } catch (error) {\n      console.error('Error toggling automatic reset:', error);\n      showResetStatus('❌ Failed to toggle automatic reset schedule', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"database-reset-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-database\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), \"Database Reset Management\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reset-description\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-triangle warning-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Database Reset System:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), \" This system automatically clears meal attendance records 30 minutes before each meal window starts, allowing students to use their meals again for the next period. You can also perform manual resets when needed.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reset-options-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `reset-option-card ${selectedResetType === 'automatic' ? 'selected' : ''}`,\n        onClick: () => setSelectedResetType('automatic'),\n        \"data-reset-type\": \"automatic\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-option-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-clock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Automatic Reset Schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-option-description\",\n          children: \"Database automatically resets 30 minutes before each meal window starts based on your meal window configuration.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-timing\",\n          children: \"Active - Next reset varies by meal schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `reset-option-card ${selectedResetType === 'manual' ? 'selected' : ''}`,\n        onClick: () => setSelectedResetType('manual'),\n        \"data-reset-type\": \"manual\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-option-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-hand-paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Manual Reset Control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-option-description\",\n          children: \"Perform immediate database reset when needed for maintenance or emergency situations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-timing\",\n          children: \"Available anytime - Admin controlled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-calendar-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), \"Automatic Reset Schedule (EAT)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"schedule-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"toggle-switch\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: automaticResetEnabled,\n              onChange: toggleAutomaticReset,\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"toggle-slider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"toggle-label\",\n            children: automaticResetEnabled ? 'Enabled' : 'Disabled'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-grid\",\n        children: dynamicResetSchedule.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `schedule-card ${!automaticResetEnabled ? 'disabled' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"schedule-time\",\n            children: item.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"schedule-meal\",\n            children: item.meal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"schedule-badge\",\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), !automaticResetEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-disabled-notice\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-info-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), \"Automatic reset schedule is currently disabled. Enable it to automatically clear meal records.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"manual-reset-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"manual-reset-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-exclamation-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Manual Database Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"manual-reset-warning\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Warning:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), \" Manual reset will immediately clear all current meal attendance records. Students will be able to use their meals again after the reset.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reset-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"reset-btn danger manual-reset-btn\",\n          onClick: () => setShowConfirmation(true),\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-trash-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), \"Reset Database Now\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"reset-btn secondary test-reset-btn\",\n          onClick: performTestReset,\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-vial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), \"Test Reset\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), resetStatus.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `reset-status ${resetStatus.type}`,\n        children: resetStatus.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), showConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reset-confirmation-modal\",\n      onClick: () => setShowConfirmation(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reset-confirmation-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-confirmation-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-exclamation-triangle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Confirm Database Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-confirmation-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Warning:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 18\n            }, this), \" This action will permanently delete all current meal attendance records.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Students will be able to use their meals again after the reset.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"This action cannot be undone. Are you sure you want to proceed?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-confirmation-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"reset-btn secondary cancel-reset-btn\",\n            onClick: () => setShowConfirmation(false),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), \"Cancel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"reset-btn danger confirm-reset-btn\",\n            onClick: performManualReset,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-trash-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), \"Reset Database\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n_s(DatabaseResetComponent, \"kQxvkxOiBVElY7Nqst6wR2R3LtA=\");\n_c = DatabaseResetComponent;\nexport default DatabaseResetComponent;\nvar _c;\n$RefreshReg$(_c, \"DatabaseResetComponent\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","DatabaseResetComponent","fetchDashboardData","_s","isLoading","setIsLoading","selectedResetType","setSelectedResetType","showConfirmation","setShowConfirmation","resetStatus","setResetStatus","message","type","dynamicResetSchedule","setDynamicResetSchedule","automaticResetEnabled","setAutomaticResetEnabled","fetchMealWindows","response","fetch","credentials","data","json","success","mealWindows","calculateResetSchedule","error","console","time","meal","resetType","windows","schedule","filter","window","enabled","map","hours","minutes","startTime","split","Number","startDate","Date","setHours","resetDate","getTime","resetTime","getHours","toString","padStart","getMinutes","mealType","charAt","toUpperCase","slice","sort","a","b","localeCompare","showResetStatus","setTimeout","performManualReset","method","headers","performTestReset","toggleAutomaticReset","newStatus","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","checked","onChange","disabled","item","index","e","stopPropagation","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/Intern/src/components/DatabaseResetComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst DatabaseResetComponent = ({ fetchDashboardData }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedResetType, setSelectedResetType] = useState('manual');\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [resetStatus, setResetStatus] = useState({ message: '', type: '' });\n\n  const [dynamicResetSchedule, setDynamicResetSchedule] = useState([]);\n  const [automaticResetEnabled, setAutomaticResetEnabled] = useState(true);\n\n  // Fetch meal windows and calculate reset schedule\n  useEffect(() => {\n    const fetchMealWindows = async () => {\n      try {\n        const response = await fetch('/api/meal-windows', {\n          credentials: 'include'\n        });\n        const data = await response.json();\n        \n        if (data.success && data.mealWindows) {\n          calculateResetSchedule(data.mealWindows);\n        }\n      } catch (error) {\n        console.error('Error fetching meal windows:', error);\n        // Fallback to default schedule if API fails\n        setDynamicResetSchedule([\n          { time: '05:45', meal: 'Late Night', resetType: 'Before' },\n          { time: '09:30', meal: 'Breakfast', resetType: 'Before' },\n          { time: '14:30', meal: 'Lunch', resetType: 'Before' },\n          { time: '20:30', meal: 'Dinner', resetType: 'Before' }\n        ]);\n      }\n    };\n    \n    fetchMealWindows();\n  }, []);\n\n  // Calculate reset times (30 minutes before each meal start)\n  const calculateResetSchedule = (windows) => {\n    const schedule = windows\n      .filter(window => window.enabled)\n      .map(window => {\n        const [hours, minutes] = window.startTime.split(':').map(Number);\n        const startDate = new Date();\n        startDate.setHours(hours, minutes, 0, 0);\n        \n        // Subtract 30 minutes\n        const resetDate = new Date(startDate.getTime() - (30 * 60000));\n        const resetTime = `${resetDate.getHours().toString().padStart(2, '0')}:${resetDate.getMinutes().toString().padStart(2, '0')}`;\n        \n        return {\n          time: resetTime,\n          meal: window.mealType.charAt(0).toUpperCase() + window.mealType.slice(1),\n          resetType: 'Before'\n        };\n      })\n      .sort((a, b) => a.time.localeCompare(b.time));\n    \n    setDynamicResetSchedule(schedule);\n  };\n\n  // Show reset status message\n  const showResetStatus = (message, type) => {\n    setResetStatus({ message, type });\n    \n    // Auto-remove success/error messages after 5 seconds\n    if (type !== 'info') {\n      setTimeout(() => {\n        setResetStatus({ message: '', type: '' });\n      }, 5000);\n    }\n  };\n\n  // Perform manual reset\n  const performManualReset = async () => {\n    if (isLoading) return;\n    \n    try {\n      setIsLoading(true);\n      setShowConfirmation(false);\n      showResetStatus('Resetting meal database...', 'info');\n      \n      const response = await fetch('/api/dashboard/reset-meals', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include'\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        showResetStatus(\n          `✅ ${data.message} Reset completed at ${data.resetTime}`, \n          'success'\n        );\n        \n        // Refresh dashboard stats if available\n        if (fetchDashboardData) {\n          setTimeout(() => {\n            fetchDashboardData();\n          }, 1000);\n        }\n      } else {\n        showResetStatus(`❌ Reset failed: ${data.error}`, 'error');\n      }\n    } catch (error) {\n      console.error('Reset error:', error);\n      showResetStatus('❌ Network error. Please check if the backend server is running.', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Perform test reset\n  const performTestReset = async () => {\n    if (isLoading) return;\n    \n    try {\n      setIsLoading(true);\n      showResetStatus('Running test reset...', 'info');\n      \n      // Simulate test reset - in real implementation, this would call a test endpoint\n      setTimeout(() => {\n        showResetStatus('✅ Test reset completed successfully. No actual data was modified.', 'success');\n        setIsLoading(false);\n      }, 2000);\n      \n    } catch (error) {\n      console.error('Test reset error:', error);\n      showResetStatus('❌ Test reset failed.', 'error');\n      setIsLoading(false);\n    }\n  };\n\n  // Toggle automatic reset schedule\n  const toggleAutomaticReset = async () => {\n    try {\n      setIsLoading(true);\n      const newStatus = !automaticResetEnabled;\n      \n      // Here you would call an API to enable/disable the scheduler\n      // For now, we'll just update the local state\n      setAutomaticResetEnabled(newStatus);\n      \n      showResetStatus(\n        `✅ Automatic reset schedule ${newStatus ? 'enabled' : 'disabled'}`,\n        'success'\n      );\n      \n    } catch (error) {\n      console.error('Error toggling automatic reset:', error);\n      showResetStatus('❌ Failed to toggle automatic reset schedule', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"database-reset-section\">\n      <h2>\n        <i className=\"fas fa-database\"></i>\n        Database Reset Management\n      </h2>\n\n      <div className=\"reset-description\">\n        <i className=\"fas fa-exclamation-triangle warning-icon\"></i>\n        <strong>Database Reset System:</strong> This system automatically clears meal attendance records 30 minutes before each meal window starts, allowing \n        students to use their meals again for the next period. You can also perform manual resets when needed.\n      </div>\n\n      <div className=\"reset-options-grid\">\n        <div \n          className={`reset-option-card ${selectedResetType === 'automatic' ? 'selected' : ''}`}\n          onClick={() => setSelectedResetType('automatic')}\n          data-reset-type=\"automatic\"\n        >\n          <div className=\"reset-option-header\">\n            <i className=\"fas fa-clock\"></i>\n            <h3>Automatic Reset Schedule</h3>\n          </div>\n          <div className=\"reset-option-description\">\n            Database automatically resets 30 minutes before each meal window starts based on your meal window configuration.\n          </div>\n          <div className=\"reset-timing\">\n            Active - Next reset varies by meal schedule\n          </div>\n        </div>\n\n        <div \n          className={`reset-option-card ${selectedResetType === 'manual' ? 'selected' : ''}`}\n          onClick={() => setSelectedResetType('manual')}\n          data-reset-type=\"manual\"\n        >\n          <div className=\"reset-option-header\">\n            <i className=\"fas fa-hand-paper\"></i>\n            <h3>Manual Reset Control</h3>\n          </div>\n          <div className=\"reset-option-description\">\n            Perform immediate database reset when needed for maintenance or emergency situations.\n          </div>\n          <div className=\"reset-timing\">\n            Available anytime - Admin controlled\n          </div>\n        </div>\n      </div>\n\n      <div className=\"schedule-display\">\n        <div className=\"schedule-header\">\n          <h4>\n            <i className=\"fas fa-calendar-alt\"></i>\n            Automatic Reset Schedule (EAT)\n          </h4>\n          <div className=\"schedule-toggle\">\n            <label className=\"toggle-switch\">\n              <input\n                type=\"checkbox\"\n                checked={automaticResetEnabled}\n                onChange={toggleAutomaticReset}\n                disabled={isLoading}\n              />\n              <span className=\"toggle-slider\"></span>\n            </label>\n            <span className=\"toggle-label\">\n              {automaticResetEnabled ? 'Enabled' : 'Disabled'}\n            </span>\n          </div>\n        </div>\n        <div className=\"schedule-grid\">\n          {dynamicResetSchedule.map((item, index) => (\n            <div key={index} className={`schedule-card ${!automaticResetEnabled ? 'disabled' : ''}`}>\n              <div className=\"schedule-time\">{item.time}</div>\n              <div className=\"schedule-meal\">{item.meal}</div>\n              <div className=\"schedule-badge\">Reset</div>\n            </div>\n          ))}\n        </div>\n        {!automaticResetEnabled && (\n          <div className=\"schedule-disabled-notice\">\n            <i className=\"fas fa-info-circle\"></i>\n            Automatic reset schedule is currently disabled. Enable it to automatically clear meal records.\n          </div>\n        )}\n      </div>\n\n      <div className=\"manual-reset-section\">\n        <div className=\"manual-reset-header\">\n          <i className=\"fas fa-exclamation-circle\"></i>\n          <h3>Manual Database Reset</h3>\n        </div>\n\n        <div className=\"manual-reset-warning\">\n          <strong>Warning:</strong> Manual reset will immediately clear all current meal attendance records. \n          Students will be able to use their meals again after the reset.\n        </div>\n\n        <div className=\"reset-controls\">\n          <button \n            className=\"reset-btn danger manual-reset-btn\"\n            onClick={() => setShowConfirmation(true)}\n            disabled={isLoading}\n          >\n            <i className=\"fas fa-trash-alt\"></i>\n            Reset Database Now\n          </button>\n\n          <button \n            className=\"reset-btn secondary test-reset-btn\"\n            onClick={performTestReset}\n            disabled={isLoading}\n          >\n            <i className=\"fas fa-vial\"></i>\n            Test Reset\n          </button>\n        </div>\n\n        {resetStatus.message && (\n          <div className={`reset-status ${resetStatus.type}`}>\n            {resetStatus.message}\n          </div>\n        )}\n      </div>\n\n      {/* Confirmation Modal */}\n      {showConfirmation && (\n        <div className=\"reset-confirmation-modal\" onClick={() => setShowConfirmation(false)}>\n          <div className=\"reset-confirmation-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"reset-confirmation-header\">\n              <i className=\"fas fa-exclamation-triangle\"></i>\n              <h3>Confirm Database Reset</h3>\n            </div>\n            <div className=\"reset-confirmation-message\">\n              <p><strong>Warning:</strong> This action will permanently delete all current meal attendance records.</p>\n              <p>Students will be able to use their meals again after the reset.</p>\n              <p>This action cannot be undone. Are you sure you want to proceed?</p>\n            </div>\n            <div className=\"reset-confirmation-actions\">\n              <button \n                className=\"reset-btn secondary cancel-reset-btn\"\n                onClick={() => setShowConfirmation(false)}\n              >\n                <i className=\"fas fa-times\"></i>\n                Cancel\n              </button>\n              <button \n                className=\"reset-btn danger confirm-reset-btn\"\n                onClick={performManualReset}\n              >\n                <i className=\"fas fa-trash-alt\"></i>\n                Reset Database\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DatabaseResetComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}